<div class="container">
  <mat-card class="reg-panel">
    <mat-card-title>
      Register
    </mat-card-title>
    <form
      (ngSubmit)="handleRegister()"
      [formGroup]="form"
      class="reg-form">
      <div formGroupName="user">
        <mat-form-field>
          <input
            matInput
            required
            formControlName="email"
            placeholder="E-mail">
            <mat-error> {{getErrorMessage()}} </mat-error>            
        </mat-form-field>
        <mat-form-field>
          <input
            matInput
            required
            formControlName="emailConfirm"
            placeholder="Confirm e-mail">
        </mat-form-field>  
        <mat-form-field>
          <input
            matInput
            required
            formControlName="username"
            placeholder="Username">
        </mat-form-field>      
        <mat-form-field>
          <input
            matInput
            required
            formControlName="fullname"
            placeholder="Full name">
        </mat-form-field>
        <mat-form-field>
          <input
            matInput
            required
            [type]="hide ? 'password' : 'text'"
            formControlName="password"
            placeholder="Password">
            <!-- <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>                  -->
        </mat-form-field>
        <mat-form-field>
          <input
            matInput
            required
            [type]="hide ? 'password' : 'text'"
            formControlName="passwordConfirm"
            placeholder="Confirm password">
            <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>            
        </mat-form-field>        
        <mat-form-field>
          <input
            matInput
            required
            type="date"
            value=""
            formControlName="birthdate"
            placeholder="Birth Date">
        </mat-form-field>
        <mat-form-field>
            <input
              matInput
              type="tel" matInput 
              placeholder="Telephone"
              formControlName="phoneNumber">
        </mat-form-field>
      </div>
      <div class="user_button">
        <button
          mat-flat-button
          type="submit"
          color="primary"
          [disabled]="form.invalid">
          Register
        </button>
        <a routerLink="/login">Cancel</a>
      </div>

      <!-- <pre> {{ form.value | json }} </pre> -->
    </form>
  </mat-card>
</div>